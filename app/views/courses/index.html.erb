<%# Lists all courses that an instructor has, and the number of groups in them %>
<%# Also allows the instructor to add or delete a group to/from their class %>
<h1>Classes</h1>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Number of Groups</th>
      <th>Actions</th>
    </tr>
  </thead>

  <tbody>
    <% if current_user.try(:admin?) %>
      <% @courses.each do |course| %>
	    
	<tr><% if logged_in? and course.user_id == current_user.id%>
		<td><%= link_to course.cname, course %></td>
              	<td><%= course.group_ids.length %></td>
              <td>
<%= link_to 'Add Group', new_group_path(:course_id => course.id), :class => "action" %>
<%= link_to 'Delete', course, method: :delete, data: { confirm: 'Are you sure?' }, :class => "action"%>
              </td>
            <% end %>
          <% end %>
        </tr>
	<% end %>
  </tbody>
</table>
<br>
<% if current_user.try(:admin?) %>
  <%= link_to 'New Class', new_course_path, :class => "new" %>
  <%= link_to 'Go to Groups', groups_path %>
  <%= link_to 'Go to Projects', projects_path %>
<% end %>


